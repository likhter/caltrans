<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8"/>
    <title>Caltrans &mdash; road conditions</title>
    <style type="text/css">
      .red { background-color: red; color: white; }
      .green { background-color: lightgreen; }
      .pink { background-color: pink; color: red;}
      .place { background-color: #ededed; }
      .road .name { font-size: 25pt; }
      .road .region .name { font-size: 15pt; } 
      body { font-family: Verdana, sans-serif; width: 90%; margin: 50px auto 0 auto; } 
      #roadlist div { display: inline-block; width: 90px; } 
      #roadlist div:hover { background-color: #e8e8e8; }
      ul li.paragraph { padding: 2px; } 
      li.road { border: solid 1px white; } 
      li.road:hover { border: solid 1px gray; } 
      li.paragraph:hover { background-color: #e8e8e8; }
    </style>
  </head>
  <body>
    <div class="loader" data-bind="visible: isLoading">Loading...</div>
    <div class="error" data-bind="visible: isError">Error. Please reload.</div>

    <div id="roadlist" data-bind="foreach: conditions">
      <div>
        <input type="checkbox" data-bind="checkedValue: $data.name, checked: $root.checkedRoads, attr: { id: 'road'+name }"/>
        <span data-bind="text: $data.name"></span>
      </div>
    </div>

    <ul class="roads" data-bind="foreach: filteredConditions">
      <li class="road">
        <div class="name" data-bind="text: $data.name"></div>
        <ul data-bind="foreach: $data.entries">
          <li class="region">
            <div class="name" data-bind="text: $data.name"></div>
            <ul data-bind="foreach: $data.entries">
              <li class="paragraph" data-bind="html: _vm.highlight($data)"></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <script src="http://knockoutjs.com/downloads/knockout-3.4.1.js"></script>
    <script src="caltrans.js"></script>
  </body>
</html>
